{% extends 'layouts/freteiro.html' %}

{% load static %}

{% block content %}
<main id="fretesIndex" class="py-14 container mx-auto flex gap-8 flex-col md:grid md:grid-cols-12 gap-y-8 px-4">
    <header class="py-4 flex justify-between border-b border-neutral-200 col-span-12 flex-col md:flex-row gap-4 items-center">
        <h1 class="font-bold text-5xl">Fretes disponíveis</h1>
        <form method="GET" class="self-start" action="{% url 'fretes_index' %}">
            <label for="order">Ordenar por</label>
            <select id="order" class="font-bold" name="order" onchange="this.form.submit()">
                <option value="1" {% if request.GET.order == '1' %} selected {% endif %}>Mais relevantes</option>
                <option value="2" {% if request.GET.order == '2' %} selected {% endif %}>Mais recentes</option>
            </select>
        </form>
    </header>
    <aside class="col-span-3 flex md:flex-col gap-4">
        <form class="flex md:flex-col gap-4 flex-wrap" method="GET" action="#">
            <button type="submit" class="bg-black text-white px-4 font-bold py-2 rounded-md text-center">Filtrar resultados</button>
            <div class="flex flex-wrap gap-4">
                <div class="flex grow flex-col gap-2">
                    <label class="font-bold">Estado de origem</label>
                    <select class="rounded-md border border-neutral-200 p-4">
                        <option value="1">Valor</option>
                    </select>
                </div>
                <div class="flex grow flex-col gap-2">
                    <label class="font-bold">Cidade de origem</label>
                    <select class="rounded-md border border-neutral-200 p-4">
                        <option value="1">Valor</option>
                    </select>
                </div>
                <div class="flex grow flex-col gap-2">
                    <label class="font-bold">Estado de origem</label>
                    <select class="rounded-md border border-neutral-200 p-4">
                        <option value="1">Valor</option>
                    </select>
                </div>
                <div class="flex grow flex-col gap-2">
                    <label class="font-bold">Cidade de origem</label>
                    <select class="rounded-md border border-neutral-200 p-4">
                        <option value="1">Valor</option>
                    </select>
                </div>
                <div class="flex grow flex-col gap-2 w-full">
                    <label class="font-bold">Faixa de distância</label>
                    <div class="flex text-sm gap-1 w-full">
                        <p>1km</p>
                        <input type="range" min="1" max="500" value="100" class="w-full" id="range">
                        <p>500km</p>
                    </div>
                </div>
                <div class="flex grow flex-col gap-2">
                    <label class="font-bold">Tipo de veículo</label>
                    <div>
                        <input type="checkbox" id="truck" name="truck">
                        <label for="truck">Caminhão</label>
                    </div>
                    <div>
                        <input type="checkbox" id="car" name="car">
                        <label for="car">Carro</label>
                    </div>
                    <div>
                        <input type="checkbox" id="moto" name="moto">
                        <label for="moto">Moto</label>
                    </div>
                    <div>
                        <input type="checkbox" id="bicicleta" name="bicicleta">
                        <label for="bicicleta">Bicicleta</label>
                    </div>
                    <div>
                        <input type="checkbox" id="others" name="others">
                        <label for="others">Outros</label>
                    </div>
                </div>
            </div>
        </form>
    </aside>
    <main class="col-span-9">
        {% for pedido in pedidos %}
        <div class="rounded-lg border border-neutral-200 p-4 flex flex-col md:flex-row gap-4 md:gap-8">
            <div class="flex justify-center md:justify-start grow-0">
                <img class="rounded-md w-36 h-36" src="{% static 'images/funcionario.jpg' %}"/>
            </div>
            <div class="flex flex-col gap-4 grow">
                <p><strong>Origem</strong>: {{pedido.origem}}</p>
                <p><strong>Destino</strong>: {{pedido.destino}}</p>
                <p><strong>KM</strong>: ?</p>
            </div>
            <div class="flex flex-col gap-4 grow">
                <p><strong>Produto</strong>: {{pedido.produto}}</p>
                <p><strong>Tipo de veiculo</strong>: {% for tipo in pedido.tipo_veiculo.all %} {{tipo}} {% endfor %}</p>
            </div>
            <div class="flex flex-col gap-4 grow items-center justify-center">
                <a href="{% url 'fretes_show' pedido.id %}" class="bg-yellow-400 px-4 font-bold py-2 rounded-full w-fit hover:bg-yellow-500">Detalhes</a>
            </div>
        </div>
        {% endfor %}
    </main>
</main>
{% endblock %}